dev.off()
num_cum = unlist(lapply(1:i, function(x) length(infected[x]) ))
p_cum = num_cum/max(num_cum)
time = 1:i
png(file = "./temporal_growth_curve.png",
width=5, height=5,
units="in", res=300)
plot(p_cum~time, type = "b")
strong
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
plot_time_series = function(infected, m){
num_cum = unlist(lapply(1:m,
function(x) length(infected[[x]]) ))
p_cum = num_cum/node_number
p = diff(c(0, p_cum))
time = 1:m
plot(p_cum~time, type = "b",
ylab = "CDF", xlab = "Time",
xlim = c(0,total_time), ylim =c(0,1))
}
plot_time_series(infected, length(infected))
plot_time_series = function(infected, m){
num_cum = unlist(lapply(1:m,
function(x) length(infected[[x]]) ))
p_cum = num_cum/vcount(g)
p = diff(c(0, p_cum))
time = 1:m
plot(p_cum~time, type = "b",
ylab = "CDF", xlab = "Time",
xlim = c(0,total_time), ylim =c(0,1))
}
plot_time_series(infected, length(infected))
plot_time_series = function(infected, m){
num_cum = unlist(lapply(1:m,
function(x) length(infected[[x]]) ))
p_cum = num_cum/vcount(g)
p = diff(c(0, p_cum))
time = 1:m
plot(p_cum~time, type = "b",
ylab = "CDF", xlab = "Time",
xlim = c(0,length(infected)), ylim =c(0,1))
}
plot_time_series(infected, length(infected))
plot_time_series = function(infected, m){
num_cum = unlist(lapply(1:m,
function(x) length(infected[[x]]) ))
p_cum = num_cum/vcount(g)
p = diff(c(0, p_cum))
time = 1:m
plot(p_cum~time, type = "b",
ylab = "CDF", xlab = "Time",
xlim = c(0,length(infected)), ylim =c(0,1))
}
plot_time_series(infected, length(infected))
plot(round)
round
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
res
infected
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
plot(infected_round, xlab = "days", ylab="infected nodes", xlim = c(0,length(infected_round)),
ylim = c(0,90))
length(infected_round)
axis(1, at = seq(2, length(infected_round), by = 1), las=2)
axis(1, at = seq(1, length(infected_round), by = 1), las=2)
plot(infected_round, xlab = "days", ylab="infected nodes", xlim = c(0,length(infected_round)),
ylim = c(0,90))
axis(1, at = seq(1, length(infected_round), by = 1), las=2)
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1), las=2)
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1), las=2)
axis(1, at = seq(1, length(infected_round), by = 1))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
plot(infected_round, xaxt =  = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(0, at = seq(1, length(infected_round), by = 1))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(0, at = seq(1, length(infected_round), by = 1))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(2, length(infected_round), by = 1))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(1, (vcount(g), by = 1))
axis(2, at = seq(1, (vcount(g), by = 1)))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(1, (vcount(g), by = 1)))
axis(2, at = seq(1, vcount(g), by = 1))
axis(2, at = seq(1, vcount(g), by = 10))
plot(infected_round, xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(1, vcount(g), by = 10))
plot(infected_round, xaxt='n',xlab = "days", ylab="infected nodes")
plot(infected_round, xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(1, vcount(g), by = 10))
axis(2, at = seq(10, vcount(g), by = 10))
plot(infected_round, xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(10, vcount(g), by = 10))
dev.copy(paste(pathOut, "grow.png"), sep"")
dev.copy(paste(pathOut, "grow.png"0, sep=0""))
dev.copy(paste(pathOut, "grow.png"0, sep=""))
dev.copy(paste(pathOut, "grow.png"0, sep=""))
dev.copy(paste(pathOut, "grow.png", sep=""))
dev.copy(png,paste(pathOut, "grow.png", sep=""))
dev.off()
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-1], main = m)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
coords
v <- cbind(coords[,3], coords[,2])
plot.igraph(g, edge.arrow.mode = 0, layout=v, main = m)
v
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-1], main = m)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "xy*.png ",pathOut,"xy_animation.gif", sep="")
pathOut = "imgs/"
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "xy*.png ",pathOut,"xy_animation.gif", sep="")
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "*.pngxy ",pathOut,"xy_animation.gif", sep="")
pathOut
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "*.pngxy ",pathOut,"xy_animation.gif", sep="")
system(syscall)
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "xy*.png ",pathOut,"xy_animation.gif", sep="")
system(syscall)
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "xz*.png ",pathOut,"xz_animation.gif", sep="")
system(syscall)
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "yz*.png ",pathOut,"yz_animation.gif", sep="")
system(syscall)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
zy <- cbind(coords[,3],coords[,2])
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
par(mfrow=c(2,2))
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-2], main = m)
zy <- cbind(coords[,3],coords[,2])
plot.igraph(g, edge.arrow.mode = 0, layout=zy, main = m)
plot(infected_round)
a = 1:16
a
a[1:6]
a[1:1]
par(mfrow=c(2,2))
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-2], main = m)
par(mfrow=c(2,2))
plot(infected_round[1:m], xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(10, vcount(g), by = 10))
par(mfrow=c(2,2))
plot.igraph(g, edge.arrow.mode = 0, layout=zy, main = m)
plot(infected_round[1:m], xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(10, vcount(g), by = 10))
dev.copy(png,pathfile)
par(mfrow=c(2,2))
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-2], main = m)
zy <- cbind(coords[,3],coords[,2])
plot.igraph(g, edge.arrow.mode = 0, layout=zy, main = m)
plot(infected_round[1:m], xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
axis(1, at = seq(1, length(infected_round), by = 1))
axis(2, at = seq(10, vcount(g), by = 10))
par(mfrow=c(2,2))
axis(2, at = seq(10, vcount(g), by = 10))
plot(infected_round[1:m], xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
plot(infected_round[1:m], xaxt='n', yaxt="n",xlab = "days", ylab="infected nodes")
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/mytry.R', echo=TRUE)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
par(mfrow=c(2,2))
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3], main = m)
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-2], main = m)
zy <- cbind(coords[,3],coords[,2])
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
xlim = c(0,length(infected_round)), ylim =c(0,90))
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
system(syscall)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
?closeness
centers <- closeness(g, mode = "total", weight = "inverse")
g <- read.graph("./CTRL_amore.gml", format="gml")
centers <- closeness(g, mode = "total", weight = "inverse")
g <- read.graph("./CTRL_amore.gml", format="gml")
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
g <- read.graph("./CTRL_amore.gml", format="gml")
centers <- closeness(g, mode = "total", weight = "inverse")
E(g)$inverse
centers <- closeness(g, mode = "total", weight = E(g)$inverse)
centers
#   centers <- sort(centers, decreasing = T)
centers <- sort(centers, decreasing = T)
diffusers <- c(match(centers[1], centers), match(centers[2], centers))
res <- epidemicsPression(g, diffusers, "imgs/")
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R')
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
c("a",1)
c(1,1)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
l_time <- NULL
l_strong <- NULL
l_weak <- NULL
for(j in 1:times){
g <- read.graph(cfile, format="gml")
res <- epidemicsPression(g, diffusers)
l_time[j] <- length(res$infected_round)
l_strong[j] <- res$strong
l_weak[j] <- res$weak
}
toWrite[k] <- c(files[i], mean(l_time), mean(l_strong), mean(l_weak))
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
l_time
mean(18)
c(files[i], mean(l_time), mean(l_strong), mean(l_weak))
toWrite[[k]] <- c(files[i], mean(l_time), mean(l_strong), mean(l_weak))
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
toWrite
as.matrix(toWrite)
toWrite
as.matrix(toWrite)
a <-as.matrix(toWrite)
a
unlist(toWrite)
a <-unlist(toWrite)
write.table(a,file=pathOut,sep="\t", col.names = F, row.names = F)
write.table(t(a),file=pathOut,sep="\t", col.names = F, row.names = F)
a <- unlist(toWrite)
a
t(a)
m <- as.matrix(a)
m
m <- as.matrix(a, ncol = 4)
m
a
a <- as.vector(a)
a
m <- as.matrix(a, ncol = 4)
m
m <- as.matrix(a, ncol = 4, nrow = 2)
m
str(a)
m <- matrix(a, ncol = 4, nrow = 2)
m
m <- matrix(a, ncol = 4, nrow = 2, byrow=TRUE)
m
toWrite <- unlist(toWrite)
toWrite
mtoWrite<- matrix(toWrite, ncol = 4, nrow = 2, byrow=TRUE)
mtoWrite
write.table(toWrite,file=pathOut,sep="\t", col.names = F, row.names = F)
toWrite <- unlist(toWrite)
toWrite<- matrix(toWrite, ncol = 4, nrow = 2, byrow=TRUE)
write.table(toWrite,file=pathOut,sep="\t", col.names = F, row.names = F)
toWrite
write.table(toWrite,file=pathOut,sep=",", col.names = F, row.names = F)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
g <- read.graph(cfile, format="gml")
# get diffusers
centers <- closeness(g, mode = "total")
centers <- sort(centers, decreasing = T)
diffusers <- c(match(centers[1], centers), match(centers[2], centers))
for(j in 1:times){
res <- epidemicsPression(g, diffusers)
l_time[j] <- length(res$infected_round)
l_strong[j] <- res$strong
l_weak[j] <- res$weak
}
toWrite[[k]] <- c(files[i], mean(l_time), mean(l_strong), mean(l_weak))
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
print(g)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
infected =list()
infected[[1]]= diffusers
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
differs
diffusers
infected =list()
diffusers <- c(match(centers[1], centers), match(centers[2], centers))
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
diffusers
for(j in 1:times){
print(g)
res <- epidemicsPression(g, diffusers)
l_time[j] <- length(res$infected_round)
l_strong[j] <- res$strong
l_weak[j] <- res$weak
}
applyDiffusion <- function(pathIn, pathOut, diffusers, times = 1){
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
print(g)
diffusers
res <- epidemicsPression(g, diffusers)
g
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
infected =list()
infected[[1]]= diffusers
glob_var(0,0)
#spread
i = 1
while(length(infected[[i]]) < vcount(g)){
infected[[i+1]] = sort(update_diffusers(infected[[i]]))
#     cat(length(infected[[i+1]]), "\n")
i = i + 1
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
if(!is.null(pathOut)){
syscall <- paste("rm ./", pathOut, "*png", sep="")
system(syscall)
x <- V(g)$cx
y <- V(g)$cy
z <- V(g)$cz
coords <- cbind(x,y,z)
E(g)$color = "blueviolet"
V(g)$color = "white"
set.seed(2014);
V(g)$color[V(g)%in%diffusers] = "red"
plot.igraph(g, edge.arrow.mode = 0, layout=coords)
m = 1
while(m <= length(infected)){
V(g)$color = "white"
V(g)$color[V(g)%in%infected[[m]]] = "red"
if(m<10){
pathfile <- paste(pathOut, "00", m, ".png",sep="")
}
else if(m<100){
pathfile <- paste(pathOut, "0", m, ".png",sep="")
}
else{
pathfile <- paste(pathOut, m, ".png",sep="")
}
png(pathfile, width = 1000, height = 1000)
par(mfrow=c(2,2))
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-3])
plot.igraph(g, edge.arrow.mode = 0, layout=coords[,-2])
zy <- cbind(coords[,3],coords[,2])
plot.igraph(g, edge.arrow.mode = 0, layout=zy, main = m)
plot(infected_round[1:m], xlab = "Rounds", ylab="infected nodes",
xlim = c(0,length(infected_round)), ylim =c(0,90), cex.axis=2, cex.lab = 2, cex = 2)
mtext(paste("Round",m), side = 3, line = -2, outer=T,  cex=2)
dev.off()
m = m + 1
}
syscall <- paste("convert -delay 100 -loop 0 ", pathOut, "*.png ",pathOut,"animation.gif", sep="")
system(syscall)
}
res = list("infected" = infected, "infected_round" = infected_round, "strong"=strong,
"weak" = weak)
return(res)
}
res <- epidemicsPression(g = g, diffusers = diffusers)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
infected =list()
infected[[1]]= diffusers
glob_var(0,0)
#spread
i = 1
while(length(infected[[i]]) < vcount(g)){
infected[[i+1]] = sort(update_diffusers(infected[[i]]))
#     cat(length(infected[[i+1]]), "\n")
while(length(infected[[i]]) < vcount(g)){
infected[[i+1]] = sort(update_diffusers(infected[[i]]))
#     cat(length(infected[[i+1]]), "\n")
i = i + 1
}
while(length(infected[[i]]) < vcount(g)){
infected[[i+1]] = sort(update_diffusers(infected[[i]]))
#     cat(length(infected[[i+1]]), "\n")
i = i + 1
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round
while(length(infected[[i]]) < vcount(g)){
infected[[i+1]] = sort(update_diffusers(infected[[i]]))
#     cat(length(infected[[i+1]]), "\n")
i = i + 1
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
infected_round <- 0
for(i in 1:length(infected)){
infected_round[i+1] <- length(infected[[i]])
}
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
infected[[i+1]] = sort(update_diffusers(infected[[i]]))
infected[[i+1]] = sort(g, update_diffusers(infected[[i]]))
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
debugSource('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
source('~/Tesi/gitProject/neuroscience/source/R/epidemics/epidemicsPression.R', echo=TRUE)
